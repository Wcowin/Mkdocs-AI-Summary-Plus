# MkDocs AI Summary

![alt text](logo-2.png)
<p align="center">
    <img src="https://img.shields.io/badge/MkDocs-Hooks-526CFE?style=for-the-badge&logo=MaterialForMkDocs&logoColor=white" alt="MkDocs Hooks">
    <img src="https://img.shields.io/badge/AI_Powered-DeepSeek-FF6B35?style=for-the-badge&logo=openai&logoColor=white" alt="AI Powered">
    <img src="https://img.shields.io/badge/Python-3.7+-3776AB?style=for-the-badge&logo=python&logoColor=white" alt="Python 3.7+">
</p>

<p align="center">
    <a href="https://github.com/Wcowin/mkdocs-ai-hooks/blob/main/README.md">ä¸­æ–‡</a> | <a href="README-en.md">English</a>
</p>

ğŸš€ **æ‚¨çš„MkDocsæ–‡æ¡£é¦–é€‰æ™ºèƒ½æ‘˜è¦ï¼**   
è¿™ä¸ªé¡¹ç›®åˆ©ç”¨MkDocs hooksï¼Œä¸ºæ‚¨çš„æŠ€æœ¯æ–‡æ¡£å’Œåšå®¢æ·»åŠ AIé©±åŠ¨çš„æ‘˜è¦ç”Ÿæˆå’Œæ™ºèƒ½é˜…è¯»ç»Ÿè®¡åŠŸèƒ½ã€‚

![é¢„è§ˆå›¾1](https://s1.imagehub.cc/images/2025/06/03/d1563500263b22cfd0ffc3679993aa83.jpg)
![é¢„è§ˆå›¾2](https://s1.imagehub.cc/images/2025/06/03/526b59b6a2e478f2ffa1629320e3e2ce.png)

ğŸŒ **åœ¨çº¿æ¼”ç¤º**: https://wcowin.work/mkdocs-ai-hooks/

---

## ğŸ“‹ ç›®å½•å¯¼èˆª

- [âœ¨ åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
- [ğŸ“¦ å¿«é€Ÿå®‰è£…](#-å¿«é€Ÿå®‰è£…)
- [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ğŸ“– ä½¿ç”¨æŒ‡å—](#-ä½¿ç”¨æŒ‡å—)
- [ğŸ¨ æ˜¾ç¤ºæ•ˆæœ](#-æ˜¾ç¤ºæ•ˆæœ)
- [âš™ï¸ é«˜çº§é…ç½®](#ï¸-é«˜çº§é…ç½®)
- [ğŸ” å®‰å…¨é…ç½®](#-å®‰å…¨é…ç½®)
- [ğŸŒ å¤šè¯­è¨€æ”¯æŒ](#-å¤šè¯­è¨€æ”¯æŒ)
- [ğŸ“Š æ€§èƒ½ä¼˜åŒ–](#-æ€§èƒ½ä¼˜åŒ–)
- [ğŸ¤ è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¤– AIæ™ºèƒ½æ‘˜è¦
- **å¤šAIæœåŠ¡é›†æˆ**: æ”¯æŒDeepSeekã€OpenAIã€Claudeã€Geminiç­‰ä¸»æµAIæœåŠ¡
- **è‡ªåŠ¨æ‘˜è¦ç”Ÿæˆ**: ç”Ÿæˆé«˜è´¨é‡çš„80-120å­—æ™ºèƒ½æ‘˜è¦
- **å¤šè¯­è¨€æ”¯æŒ**: æ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€åŒè¯­æ‘˜è¦ç”Ÿæˆ
- **æ™ºèƒ½å†…å®¹æ¸…ç†**: è‡ªåŠ¨è¿‡æ»¤YAMLã€HTMLã€ä»£ç å—ç­‰æ ¼å¼å†…å®¹
- **å¤‡ç”¨æ‘˜è¦æœºåˆ¶**: APIå¤±è´¥æ—¶æä¾›åŸºäºå…³é”®è¯çš„æœ¬åœ°æ‘˜è¦
- **æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ**: 7å¤©æ™ºèƒ½è¿‡æœŸï¼Œé¿å…é‡å¤APIè°ƒç”¨
- **çµæ´»é…ç½®**: æ”¯æŒæ–‡ä»¶å¤¹çº§åˆ«å’Œé¡µé¢çº§åˆ«çš„ç²¾ç¡®æ§åˆ¶

### ğŸ“Š æ™ºèƒ½é˜…è¯»ç»Ÿè®¡ï¼ˆå¯é€‰ï¼‰
- **ç²¾å‡†å­—ç¬¦ç»Ÿè®¡**: ä¸“é—¨ä¼˜åŒ–çš„ä¸­è‹±æ–‡å†…å®¹è¯†åˆ«
- **æ™ºèƒ½ä»£ç æ£€æµ‹**: è¯†åˆ«30+ç¼–ç¨‹è¯­è¨€å’Œå‘½ä»¤è¡Œä»£ç 
- **é˜…è¯»æ—¶é—´ä¼°ç®—**: åŸºäºè¯­è¨€ç‰¹æ€§çš„æ™ºèƒ½è®¡ç®—ï¼ˆä¸­æ–‡400å­—/åˆ†é’Ÿï¼Œè‹±æ–‡200è¯/åˆ†é’Ÿï¼‰
- **ç¾è§‚ä¿¡æ¯å±•ç¤º**: ä½¿ç”¨MkDocs Materialé£æ ¼çš„ä¿¡æ¯æ¡†

### ğŸš€ æ™ºèƒ½åŒ–ç‰¹æ€§
- **ç¯å¢ƒè‡ªé€‚åº”**: è‡ªåŠ¨è¯†åˆ«CI/æœ¬åœ°ç¯å¢ƒï¼Œæœ¬åœ°æˆ–è€…éƒ¨ç½²éƒ½å¯é€‰å¯ç”¨/ç¦ç”¨
- **è‡ªåŠ¨è¯­è¨€è¯†åˆ«**: æ”¯æŒ30+ç¼–ç¨‹è¯­è¨€å’Œæ ‡è®°è¯­è¨€
- **å†…å®¹ç±»å‹æ£€æµ‹**: åŒºåˆ†ä»£ç ã€é…ç½®ã€å‘½ä»¤è¡Œç­‰ä¸åŒå†…å®¹
- **LRUç¼“å­˜ä¼˜åŒ–**: æå‡å¤„ç†æ€§èƒ½ï¼ˆTodoï¼‰
- **å®Œå–„é”™è¯¯å¤„ç†**: å¼‚å¸¸å¤„ç†å’Œæ—¥å¿—è®°å½•ï¼ˆTodoï¼‰

---

## ğŸ“¦ å¿«é€Ÿå®‰è£…

### æ–¹æ³•1: ç›´æ¥ä¸‹è½½ï¼ˆæ¨èï¼‰

**æ­¥éª¤1**: ä¸‹è½½æ–‡ä»¶
- ä» [Releasesé¡µé¢](https://github.com/Wcowin/mkdocs-ai-hooks/releases) ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
- æˆ–ç›´æ¥ä¸‹è½½ `ai_summary.py`æ–‡ä»¶

**æ­¥éª¤2**: åˆ›å»ºç›®å½•å¹¶æ”¾ç½®æ–‡ä»¶
```bash
# åœ¨æ‚¨çš„MkDocsé¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œ
mkdir -p docs/overrides/hooks/
mv ai_summary.py docs/overrides/hooks/
```

**æ­¥éª¤3**: é…ç½®MkDocsä¸»é¢˜ä»¥åŠè¦†å†™è·¯å¾„
```yaml
# åœ¨ mkdocs.yml ä¸­æ·»åŠ 
theme:
  name: material
  custom_dir: docs/overrides  # å¿…éœ€é…ç½®ï¼ï¼ï¼
  features:
    - content.code.copy
    - content.code.select
```

### æ–¹æ³•2: Gitå…‹éš†
```bash
git clone https://github.com/Wcowin/mkdocs-ai-hooks.git
cd mkdocs-ai-hooks 
pip install -r requirements.txt
```

### ä¾èµ–å®‰è£…
```bash
pip install -r requirements.txt
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åŸºç¡€é…ç½®

**æ­¥éª¤1**: é…ç½®hooks
ai_summary.pyåŠ¡å¿…æ”¾åˆ°docs/overrides/hooksç›®å½•ä¸‹ï¼Œç„¶åï¼š
```yaml
# åœ¨ mkdocs.yml ä¸­æ·»åŠ 
hooks:
  - docs/overrides/hooks/ai_summary.py      # AIæ‘˜è¦hook
```
**æ­¥éª¤2**: æœ¬åœ°é…ç½®
æ ¹ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶å­˜æ”¾å¯†é’¥ï¼ˆè®°å¾—æ·»åŠ åˆ° `.gitignore`ï¼‰ï¼š
```bash
# .env æ–‡ä»¶å†…å®¹
DEEPSEEK_API_KEY=your_deepseek_api_key_here
OPENAI_API_KEY=your_openai_api_key_here
```

```bash
#.gitignore æ–‡ä»¶å†…å®¹
# ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼ˆæ•æ„Ÿä¿¡æ¯ï¼‰
.env
.env.local
.env.*.local
*.key

# MkDocs æ„å»ºè¾“å‡ºç›®å½•
site/

# AI æ‘˜è¦ç¼“å­˜ç›®å½•ï¼ˆé¡¹ç›®æ ¹ç›®å½•ï¼‰- éœ€è¦è¢«æäº¤
!.ai_cache/
```

åˆ°è¿™é‡Œæ£€æŸ¥ä¸‹ç›®å½•æ ‘çŠ¶å›¾:
```
$ tree -a
æ–‡ä»¶å
â”œâ”€â”€ .github
â”‚   â”œâ”€â”€ .DS_Store
â”‚   â””â”€â”€ workflows
â”‚       â””â”€â”€ ci.yml
â”œâ”€â”€ docs
â”‚   â””â”€â”€ index.md
|   â””â”€â”€ overrides
â”‚       â””â”€â”€ hooks
â”‚           â””â”€â”€ ai_summary.py
â”œâ”€â”€ .env
â”œâ”€â”€.gitignore
â”œâ”€â”€ README.md
â””â”€â”€ mkdocs.yml
```

### 2. é…ç½®AIæœåŠ¡

**é€‰æ‹©AIæœåŠ¡æä¾›å•†**ï¼š
- ğŸŒŸ **DeepSeek**ï¼ˆæ¨èï¼‰ï¼šæ€§ä»·æ¯”é«˜ï¼Œä¸­æ–‡è¡¨ç°ä¼˜ç§€
- ğŸ”¥ **OpenAI**ï¼šåŠŸèƒ½å¼ºå¤§ï¼Œå¹¿æ³›æ”¯æŒ
- âš¡ **Claude**ï¼šé€»è¾‘æ¸…æ™°ï¼Œæ–‡æœ¬ç†è§£ä½³
- ğŸ§  **Gemini**ï¼šGoogleå‡ºå“ï¼Œå¤šè¯­è¨€æ”¯æŒ

**è·å–APIå¯†é’¥**ï¼š
- [DeepSeek](https://platform.deepseek.com/usage) - æ³¨å†Œè·å–APIå¯†é’¥
- [ChatAnywhere](https://github.com/chatanywhere/GPT_API_free) - å…è´¹OpenAIé¢åº¦

**è·å–çš„å¯†é’¥å­˜æ”¾äºä¸Šä¸€æ­¥åˆ›å»ºçš„`.env` æ–‡ä»¶ä¸­ï¼ï¼ï¼**

### 3. è®¾ç½®å‚æ•°

åœ¨ `ai_summary.py` ä¸­é…ç½®éœ€è¦AIæ‘˜è¦çš„ç›®å½•ï¼š
```python
# ğŸ“‚ å¯ç”¨AIæ‘˜è¦çš„æ–‡ä»¶å¤¹
self.enabled_folders = [
    'blog/',      # åšå®¢æ–‡ç« 
    # æ·»åŠ æ›´å¤šæ–‡ä»¶å¤¹...
]
```

### 4. æœ¬åœ°è¿è¡Œå’Œæµ‹è¯•

```bash
mkdocs serve  # æœ¬åœ°é¢„è§ˆ
```
### 5. éƒ¨ç½²é…ç½®

```yaml
#ci.yml
name: ci 
on:
  push:
    branches:
      - master 
      - main
  # ç¦æ­¢ä» fork ä»“åº“è®¿é—® secrets
  pull_request:
    types: [closed]
    branches: [main, master]
permissions:
  contents: write
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
          sparse-checkout: |
            docs
            includes
            requirements.txt
            .ai_cache
      - uses: actions/setup-python@v4
        with:
          python-version: 3.x
      - name: Set cache ID
        run: echo "cache_id=$(date --utc '+%V')" >> $GITHUB_ENV 
      - uses: actions/cache@v3
        with:
          key: mkdocs-material-${{ github.run_number }}
          path: .cache
          restore-keys: |
            mkdocs-material-
      - run: pip install mkdocs-git-revision-date-localized-plugin
      - run: pip install mkdocs-git-authors-plugin
      - run: pip install mkdocs-git-committers-plugin-2
      - run: pip install markdown-callouts
      - run: pip install mkdocs-rss-plugin
      - run: pip install requests>=2.25.0
      - run: pip install python-dateutil>=2.8.0
      - run: pip install cachetools>=4.2.0
      - run: pip install python-dotenv>=0.19.0
      - run: pip install pymdown-extensions
      - run: pip install mkdocs-material 
      - run: pip install --upgrade --force-reinstall mkdocs-material
      - name: Deploy with AI Summary
        env:
          # AIæ‘˜è¦å¼€å…³æ§åˆ¶
          AI_SUMMARY_CI_ENABLED: 'true'           # CIéƒ¨ç½²ç¯å¢ƒå¯ç”¨AIæ‘˜è¦ (true=åœ¨CIä¸­ä¸ºæ–‡ç« ç”ŸæˆAIæ‘˜è¦)
          AI_SUMMARY_CI_ONLY_CACHE: 'true'       # CIéƒ¨ç½²ä¸ç”Ÿæˆæ–°æ‘˜è¦ (true=ä½¿ç”¨æœ¬åœ°éƒ¨ç½²è¿‡çš„æ‘˜è¦ç¼“å­˜ï¼Œä¸å†é‡å¤è°ƒç”¨API)
          AI_SUMMARY_CI_FALLBACK: 'true'          # CIéƒ¨ç½²å¯ç”¨å¤‡ç”¨æ‘˜è¦ (true=APIå¤±è´¥æ—¶ç”Ÿæˆç¦»çº¿åŸºç¡€æ‘˜è¦)
          # AI_SUMMARY_LOCAL_ENABLED: 'false'       # æœ¬åœ°éƒ¨ç½²ç¯å¢ƒç¦ç”¨AIæ‘˜è¦ (true=æœ¬åœ°å¼€å‘æ—¶ä¹Ÿç”Ÿæˆæ‘˜è¦)ï¼ˆä¸éœ€è¦ç®¡è¿™æ¡ï¼‰
          # AI_SUMMARY_CACHE_ENABLED: 'true'        # æœ¬åœ°å¯ç”¨ç¼“å­˜åŠŸèƒ½ (true=ç¼“å­˜æ‘˜è¦é¿å…é‡å¤ç”Ÿæˆ)ï¼ˆä¸éœ€è¦ç®¡è¿™æ¡ï¼‰
          # APIå¯†é’¥é…ç½®
          DEEPSEEK_API_KEY: ${{ secrets.DEEPSEEK_API_KEY }}
          OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
        run: mkdocs gh-deploy --force
      
      # è‡ªåŠ¨æäº¤æ–°ç”Ÿæˆçš„AIç¼“å­˜æ–‡ä»¶
      - name: Auto-commit AI cache (if any new files)
        run: |
          if [ -d ".ai_cache" ] && [ "$(ls -A .ai_cache 2>/dev/null)" ]; then
            git config --local user.email "action@github.com"
            git config --local user.name "GitHub Action"
            git add .ai_cache/
            if ! git diff --cached --quiet; then
              git commit -m "ğŸ¤– Auto-update AI summary cache [skip ci]"
              git push
              echo "âœ… è‡ªåŠ¨æäº¤äº†æ–°çš„ AI ç¼“å­˜æ–‡ä»¶"
            else
              echo "â„¹ï¸ æ²¡æœ‰æ–°çš„ç¼“å­˜æ–‡ä»¶éœ€è¦æäº¤"
            fi
          else
            echo "â„¹ï¸ æ²¡æœ‰æ‰¾åˆ°ç¼“å­˜ç›®å½•æˆ–ç¼“å­˜ä¸ºç©º"
          fi
```

```python
# ai_summary.py ä¸­é…ç½®
# AIæ‘˜è¦æœ¬åœ°ç¯å¢ƒé…ç½®
self.ci_config = {
    # CIéƒ¨ç½²ç¯å¢ƒå¼€å…³ (ä¸ç”¨ç®¡ï¼Œåªåœ¨ci.ymlä¸­è®¾ç½®æœ‰æ•ˆ)
    'enabled_in_ci': os.getenv('AI_SUMMARY_CI_ENABLED', 'true').lower() == 'true',
    
    # æœ¬åœ°éƒ¨ç½²ç¯å¢ƒå¼€å…³ (true=æœ¬åœ°å¼€å‘æ—¶å¯ç”¨AIæ‘˜è¦)
    'enabled_in_local': os.getenv('AI_SUMMARY_LOCAL_ENABLED', 'true').lower() == 'true',
    
    # CIéƒ¨ç½²ä»…ç¼“å­˜æ¨¡å¼(ä¸ç”¨ç®¡ï¼Œåªåœ¨ci.ymlä¸­è®¾ç½®æœ‰æ•ˆ)
    'ci_only_cache': os.getenv('AI_SUMMARY_CI_ONLY_CACHE', 'false').lower() == 'true',
    
    # æœ¬åœ°éƒ¨ç½²ç¼“å­˜åŠŸèƒ½å¼€å…³ (true=å¯ç”¨ç¼“å­˜é¿å…é‡å¤ç”Ÿæˆ, false=æ€»æ˜¯ç”Ÿæˆæ–°æ‘˜è¦)
    'cache_enabled': os.getenv('AI_SUMMARY_CACHE_ENABLED', 'true').lower() == 'true',
    
    # CIéƒ¨ç½²å¤‡ç”¨æ‘˜è¦å¼€å…³ (ä¸ç”¨ç®¡ï¼Œåªåœ¨ci.ymlä¸­è®¾ç½®æœ‰æ•ˆ)
    'ci_fallback_enabled': os.getenv('AI_SUMMARY_CI_FALLBACK', 'true').lower() == 'true',
}
```  

**å‡ ç§è¿è¡Œæ¨¡å¼**ï¼š
1. **å®Œå…¨ç¦ç”¨**: æœ¬åœ°å’ŒCIéƒ¨ç½²éƒ½ä¸è¿è¡Œæ‘˜è¦ç”Ÿæˆ
2. **ä»…CIéƒ¨ç½²å¯ç”¨**: æœ¬åœ°ç¦ç”¨ï¼ŒCIéƒ¨ç½²ç”Ÿæˆæ–°æ‘˜è¦
3. **ç¼“å­˜æ¨¡å¼**ï¼šæœ¬åœ°å·²ç»ç”Ÿæˆè¿‡æ‘˜è¦ï¼ŒCIéƒ¨ç½²ä½¿ç”¨ç¼“å­˜ï¼ˆ**æ¨èã€‚ä¸Šæ–¹é…ç½®é¡¹ä¸­å·²é»˜è®¤CIéƒ¨ç½²çš„ç¼“å­˜æ¨¡å¼ï¼Œå¯è‡ªè¡Œæ­é…é€‰æ‹©**ï¼‰
4. **å®Œå…¨å¯ç”¨**: æœ¬åœ°å’ŒCIéƒ¨ç½²éƒ½è¿è¡Œ(APIæ¶ˆè€—ä¼šæ›´å¤š)

### 6. GitHub Secretsé…ç½®

**æ­¥éª¤1**: è®¾ç½®Repository Secrets
1. è¿›å…¥GitHubä»“åº“ â†’ **Settings** â†’ **Secrets and variables** â†’ **Actions**
2. ç‚¹å‡» **New repository secret** æ·»åŠ ï¼š
```
DEEPSEEK_API_KEY=your_deepseek_api_key_here
OPENAI_API_KEY=your_openai_api_key_here
```
![image](https://s1.imagehub.cc/images/2025/06/04/b5fd63d839bb6443c8560a5f690d2c41.png)
---

ç„¶åéƒ¨ç½²åˆ°GitHub Pagesæˆ–å…¶ä»–å¹³å°å³å¯ã€‚

**æœ‰æŠ¥é”™å¯ä»¥å»é—®ChatGPTæˆ–è€…åœ¨Issuesä¸­æé—®ã€‚**

## ğŸ“– ä½¿ç”¨æŒ‡å—

### AIæ‘˜è¦æ§åˆ¶

#### æ–¹æ³•1: é¡µé¢çº§æ§åˆ¶ï¼ˆæ¨èï¼‰
å¦‚æœåªæƒ³ä¸ºç‰¹å®šæ–‡ä»¶ç”Ÿæˆæ‘˜è¦ï¼Œåœ¨Markdownæ–‡ä»¶æœ€ä¸Šé¢çš„yaml metaä¸­ï¼š

**å¯ç”¨AIæ‘˜è¦**ï¼š
```yaml
---
title: æ–‡ç« æ ‡é¢˜
ai_summary: true   # å¯ç”¨AIæ‘˜è¦
---
```

**ç¦ç”¨AIæ‘˜è¦**ï¼š
```yaml
---
title: æ–‡ç« æ ‡é¢˜
ai_summary: false  # ç¦ç”¨AIæ‘˜è¦
description: è‡ªå®šä¹‰æ‘˜è¦å†…å®¹  # å¯é€‰æ‰‹åŠ¨æ‘˜è¦
---
```

#### æ–¹æ³•2: æ–‡ä»¶å¤¹çº§æ§åˆ¶
```python
# åœ¨ ai_summary.py ä¸­é…ç½®
# ğŸ“‚ å¯è‡ªå®šä¹‰çš„æ–‡ä»¶å¤¹é…ç½®
self.enabled_folders = [
    'blog/',      # blogæ–‡ä»¶å¤¹
    'index.md',     
    # 'develop/',   # developæ–‡ä»¶å¤¹
    # 'posts/',     # postsæ–‡ä»¶å¤¹
    # 'trip/',     # tripæ–‡ä»¶å¤¹
    # 'about/',     # aboutæ–‡ä»¶å¤¹
]

# ğŸ“‹ Excluded files and folders
self.exclude_patterns = [
    '404.md', 'tag.md', 'tags.md',
]

# ğŸ“‹ Excluded specific files
self.exclude_files = [
    'blog/index.md',
]
```


---

## ğŸ¨ æ˜¾ç¤ºæ•ˆæœ

### AIæ‘˜è¦æ˜¾ç¤º  
**å®é™…æ•ˆæœé¢„è§ˆ**ï¼š
![image](https://s1.imagehub.cc/images/2025/06/04/152205c10ef1bfd7658b383a3e5e6e9f.png)


### ğŸ’° æˆæœ¬è¯´æ˜
- **å•æ¬¡è´¹ç”¨**: ä¸€æ¬¡å…¨éƒ¨æ€»ç»“çº¦0.03-0.05å…ƒï¼ˆä¸­å¤§å‹æ–‡æ¡£ï¼‰
- **æœˆåº¦é¢„ä¼°**: æ™®é€šåšå®¢çº¦1ï½3Â¥
- **å…è´¹é¢åº¦**: å¤šæ•°AIæœåŠ¡å•†æä¾›æ–°ç”¨æˆ·å…è´¹é¢åº¦

---

## âš™ï¸ é«˜çº§é…ç½®

### è‡ªå®šä¹‰AIæœåŠ¡

#### æ–¹æ³•1: ä½¿ç”¨é…ç½®å‡½æ•°ï¼ˆæ¨èï¼‰
```python
# åœ¨ mkdocs.yml åŒçº§ç›®å½•åˆ›å»º hooks_config.py
from docs.overrides.hooks.ai_summary import configure_ai_summary, add_ai_service, add_openai_service

# æ·»åŠ OpenAIå…¼å®¹çš„æœåŠ¡
add_openai_service(
    'my_deepseek',
    'https://api.deepseek.com/v1/chat/completions',
    'deepseek-chat',
    'your-deepseek-key'
)

# æ·»åŠ æœ¬åœ°éƒ¨ç½²çš„æ¨¡å‹
add_openai_service(
    'local_llm',
    'http://localhost:8000/v1/chat/completions',
    'local-model',
    'dummy-key',
    temperature=0.7
)

# æ·»åŠ å®Œå…¨è‡ªå®šä¹‰çš„æœåŠ¡
add_ai_service('custom_service', {
    'url': 'https://api.custom.com/v1/chat/completions',
    'model': 'custom-model',
    'api_key': 'your-custom-key',
    'format': 'openai',  # æˆ– 'claude', 'gemini', 'custom'
    'max_tokens': 200,
    'temperature': 0.3,
    'headers': {'Custom-Header': 'value'}
})

# é…ç½®åŸºæœ¬è®¾ç½®å’ŒæœåŠ¡ä¼˜å…ˆçº§
configure_ai_summary(
    enabled_folders=['blog/', 'docs/'],
    language='zh',
    service_priority=['my_deepseek', 'local_llm', 'custom_service', 'openai']
)
```

#### æ–¹æ³•2: ä»ç¯å¢ƒå˜é‡é…ç½®
```python
# åœ¨ mkdocs.yml åŒçº§ç›®å½•åˆ›å»º hooks_config.py
from docs.overrides.hooks.ai_summary import add_service_from_env, configure_ai_summary

# ä»ç¯å¢ƒå˜é‡è‡ªåŠ¨é…ç½®
add_service_from_env('my_service', 'MYAPI')

configure_ai_summary(
    enabled_folders=['blog/'],
    service_priority=['my_service', 'openai']
)
```

```bash
# .env æ–‡ä»¶ä¸­æ·»åŠ 
MYAPI_URL=https://api.myservice.com/v1/chat/completions
MYAPI_MODEL=my-model
MYAPI_API_KEY=your-api-key
MYAPI_MAX_TOKENS=150
MYAPI_TEMPERATURE=0.3
MYAPI_FORMAT=openai
```

#### æ–¹æ³•3: ç›´æ¥åœ¨configure_ai_summaryä¸­é…ç½®
```python
# åœ¨ mkdocs.yml åŒçº§ç›®å½•åˆ›å»º hooks_config.py
from docs.overrides.hooks.ai_summary import configure_ai_summary

configure_ai_summary(
    enabled_folders=['blog/', 'docs/'],
    language='zh',
    custom_services={
        'my_openai': {
            'url': 'https://api.openai.com/v1/chat/completions',
            'model': 'gpt-4',
            'api_key': 'your-openai-key',
            'format': 'openai'
        },
        'local_llm': {
            'url': 'http://localhost:8000/v1/chat/completions',
            'model': 'local-model',
            'api_key': 'dummy',
            'format': 'openai',
            'temperature': 0.7
        }
    },
    service_priority=['my_openai', 'local_llm', 'deepseek']
)
```

### æ”¯æŒçš„APIæ ¼å¼

#### OpenAIå…¼å®¹æ ¼å¼
```python
{
    'url': 'https://api.openai.com/v1/chat/completions',
    'model': 'gpt-4',
    'api_key': 'your-key',
    'format': 'openai'
}
```

#### Claudeæ ¼å¼
```python
{
    'url': 'https://api.anthropic.com/v1/messages',
    'model': 'claude-3-haiku-20240307',
    'api_key': 'your-key',
    'format': 'claude'
}
```

#### Geminiæ ¼å¼
```python
{
    'url': 'https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent',
    'model': 'gemini-pro',
    'api_key': 'your-key',
    'format': 'gemini'
}
```

#### å®Œå…¨è‡ªå®šä¹‰æ ¼å¼
```python
def custom_payload_builder(content, title, config):
    return {
        "prompt": f"è¯·æ€»ç»“ä»¥ä¸‹å†…å®¹ï¼š{content}",
        "max_length": 120
    }

def custom_response_parser(response_data):
    return response_data.get('summary', '')

{
    'url': 'https://api.custom.com/summarize',
    'api_key': 'your-key',
    'format': 'custom',
    'custom_payload_builder': custom_payload_builder,
    'custom_response_parser': custom_response_parser
}
```

### å¸¸è§è‡ªå®šä¹‰é…ç½®ç¤ºä¾‹

#### 1. ä½¿ç”¨Azure OpenAI
```python
add_ai_service('azure_openai', {
    'url': 'https://your-resource.openai.azure.com/openai/deployments/your-deployment/chat/completions?api-version=2023-12-01-preview',
    'model': 'gpt-4',
    'api_key': 'your-azure-key',
    'format': 'openai',
    'headers': {'api-key': 'your-azure-key'}  # Azureä½¿ç”¨api-keyå¤´éƒ¨
})
```

#### 2. ä½¿ç”¨Ollamaæœ¬åœ°æ¨¡å‹
```python
add_openai_service(
    'ollama',
    'http://localhost:11434/v1/chat/completions',
    'llama2',
    'dummy-key'  # Ollamaä¸éœ€è¦çœŸå®key
)
```

#### 3. ä½¿ç”¨é€šä¹‰åƒé—®
```python
add_openai_service(
    'qwen',
    'https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions',
    'qwen-turbo',
    'your-dashscope-key'
)
```

#### 4. ä½¿ç”¨æ™ºè°±AI
```python
add_openai_service(
    'zhipu',
    'https://open.bigmodel.cn/api/paas/v4/chat/completions',
    'glm-4',
    'your-zhipu-key'
)
```

### æœåŠ¡ç®¡ç†åŠŸèƒ½

```python
from docs.overrides.hooks.ai_summary import list_ai_services, set_service_priority

# åˆ—å‡ºæ‰€æœ‰å¯ç”¨æœåŠ¡
list_ai_services()

# åŠ¨æ€è°ƒæ•´æœåŠ¡ä¼˜å…ˆçº§
set_service_priority('my_custom_service', 'openai', 'deepseek')
```

### é…ç½®æ–‡ä»¶ç»„ç»‡

æ¨èåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `hooks_config.py` æ¥ç®¡ç†æ‰€æœ‰è‡ªå®šä¹‰é…ç½®ï¼š

```python
# hooks_config.py
from docs.overrides.hooks.ai_summary import *

# è‡ªå®šä¹‰æœåŠ¡é…ç½®
add_openai_service('my_gpt4', 'https://api.openai.com/v1/chat/completions', 'gpt-4', os.getenv('OPENAI_API_KEY'))
add_service_from_env('aliyun_qwen', 'QWEN')

# åŸºç¡€é…ç½®
configure_ai_summary(
    enabled_folders=['blog/', 'docs/'],
    language='zh',
    service_priority=['my_gpt4', 'aliyun_qwen', 'deepseek'],
    cache_enabled=True
)
```

ç„¶ååœ¨ `mkdocs.yml` ä¸­å¼•å…¥ï¼š

```yaml
hooks:
  - docs/overrides/hooks/ai_summary.py
  - hooks_config.py  # å¼•å…¥è‡ªå®šä¹‰é…ç½®
```

---

## ğŸ” å®‰å…¨é…ç½®

### å¯†é’¥ç®¡ç†
- **ä½¿ç”¨ç¯å¢ƒå˜é‡**: åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®æ‚¨çš„APIå¯†é’¥
- **GitHub Secrets**: åœ¨GitHubä»“åº“çš„Secretsä¸­é…ç½®å¯†é’¥ï¼Œåç§°ä¸º `DEEPSEEK_API_KEY` å’Œ `OPENAI_API_KEY`

### å®‰å…¨æ³¨æ„äº‹é¡¹
- åˆ‡å‹¿å°†å¯†é’¥ç›´æ¥å†™å…¥ä»£ç ä¸­
- å®šæœŸè½®æ¢æ‚¨çš„APIå¯†é’¥
- ç›‘æ§APIä½¿ç”¨æƒ…å†µï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸

---

## ğŸŒ å¤šè¯­è¨€æ”¯æŒ

### é»˜è®¤å…¨å±€è¯­è¨€é…ç½®
```python
# åœ¨ ai_summary.py ä¸­è®¾ç½®
self.summary_language = 'zh'    # ä¸­æ–‡æ‘˜è¦
# self.summary_language = 'en'  # è‹±æ–‡æ‘˜è¦
# self.summary_language = 'both' # åŒè¯­æ‘˜è¦
```

### åœ¨é¡µé¢ä¸­æŒ‡å®šæ‘˜è¦è¯­è¨€  

```yaml
---
title: "æˆ‘çš„æŠ€æœ¯æ–‡ç« "
ai_summary_lang: zh
---
```
```
---
title: "My Technical Article"
ai_summary_lang: en
---
```

```
---
title: "åŒè¯­æŠ€æœ¯æ–‡ç«  / Bilingual Technical Article"
ai_summary_lang: both
---
```


### æ”¯æŒçš„è¯­è¨€
- **å®Œå…¨æ”¯æŒ**: ä¸­æ–‡ã€English
- **éƒ¨åˆ†æ”¯æŒ**: æ—¥æœ¬èªã§ã™ã€í•œê¸€ã€FranÃ§aisã€Deutsch

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### å·²å®ç°ä¼˜åŒ–
- **LRUç¼“å­˜**: å‡½æ•°çº§åˆ«ç¼“å­˜æå‡æ€§èƒ½
- **æ­£åˆ™é¢„ç¼–è¯‘**: æé«˜æ–‡æœ¬å¤„ç†é€Ÿåº¦
- **æ™ºèƒ½è¿‡æ»¤**: å‡å°‘ä¸å¿…è¦çš„APIè°ƒç”¨
- **å†…å®¹å“ˆå¸Œ**: åŸºäºå†…å®¹å˜åŒ–çš„æ™ºèƒ½ç¼“å­˜

### æ€§èƒ½å»ºè®®
- ä½¿ç”¨ `ci_only_cache: true` åœ¨CIç¯å¢ƒä¸­ä»…ä½¿ç”¨ç¼“å­˜
- åˆç†è®¾ç½® `enabled_folders` é¿å…å¤„ç†ä¸å¿…è¦çš„æ–‡ä»¶
- å®šæœŸæ¸…ç†è¿‡æœŸç¼“å­˜æ–‡ä»¶

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¦‚ä½•è´¡çŒ®
1. **Fork** è¿™ä¸ªä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ†æ”¯
5. åˆ›å»º **Pull Request**

### å¼€å‘ç¯å¢ƒ
```bash
git clone https://github.com/Wcowin/mkdocs-ai-hooks.git
cd mkdocs-ai-hooks
pip install -r requirements.txt
```

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### [v1.3.0] (2025-06-04) - æœ€æ–°ç‰ˆæœ¬  

#### æ ¸å¿ƒæ”¹è¿›

- **ç»Ÿä¸€ç¼“å­˜æ¶æ„**
- **ç¼“å­˜è·¯å¾„ç»Ÿä¸€ä¸ºé¡¹ç›®æ ¹ç›®å½• .ai_cache**
- **æœ¬åœ°å’Œ CI ç¯å¢ƒä½¿ç”¨ç›¸åŒç¼“å­˜ç­–ç•¥**
- **å¢å¼º CI/CD æ”¯æŒ**ï¼Œ**æ”¯æŒ CI ä»…ç¼“å­˜æ¨¡å¼ï¼Œå¤§å¹…å‡å°‘éƒ¨ç½²æ—¶é—´**
- **æ™ºèƒ½è¯†åˆ« 15+ éƒ¨ç½²å¹³å°ï¼ˆGitHub Actionsã€GitLab CI ç­‰ï¼‰**
- **å¯é…ç½®å¤‡ç”¨æ‘˜è¦æœºåˆ¶**

### [v1.2.0] (2025-06-03)

#### âœ¨ ä¸»è¦æ–°åŠŸèƒ½
- **å¤šAIæœåŠ¡æ”¯æŒ**: é›†æˆDeepSeekã€OpenAIã€Geminiã€Claude
- **ç¯å¢ƒè‡ªé€‚åº”**: è‡ªåŠ¨è¯†åˆ«CI/æœ¬åœ°ç¯å¢ƒ
- **æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ**: å†…å®¹å“ˆå¸Œç¼“å­˜ï¼Œ7å¤©è‡ªåŠ¨è¿‡æœŸ
- **å®‰å…¨é…ç½®**: GitHub Secretsé›†æˆï¼ŒAPIå¯†é’¥å®‰å…¨ç®¡ç†

#### ğŸ”§ æŠ€æœ¯æ”¹è¿›
- **ç»Ÿä¸€APIæ¥å£**: è‡ªé€‚é…ä¸åŒAIæœåŠ¡æ ¼å¼
- **é”™è¯¯å¤„ç†å¢å¼º**: å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
- **æ€§èƒ½ä¼˜åŒ–**: LRUç¼“å­˜å’Œæ­£åˆ™é¢„ç¼–è¯‘

### [v1.0.0] (2025-06-01) - åˆå§‹ç‰ˆæœ¬
- ğŸ¤– **AIæ™ºèƒ½æ‘˜è¦åŠŸèƒ½**
- ğŸ“– **é˜…è¯»æ—¶é—´ç»Ÿè®¡åŠŸèƒ½**
- ğŸ’¾ **åŸºç¡€ç¼“å­˜ç³»ç»Ÿ**
- ğŸ¯ **åŸºæœ¬é…ç½®é€‰é¡¹**

---

## ğŸ› é—®é¢˜åé¦ˆ

é‡åˆ°é—®é¢˜ï¼Ÿè¯·åœ¨ [Issues](https://github.com/Wcowin/mkdocs-ai-hooks/issues) ä¸­åé¦ˆã€‚

**åé¦ˆæ—¶è¯·åŒ…å«**ï¼š
- MkDocsç‰ˆæœ¬
- Pythonç‰ˆæœ¬
- å®Œæ•´é”™è¯¯ä¿¡æ¯
- å¤ç°æ­¥éª¤
- é…ç½®æ–‡ä»¶ï¼ˆå»é™¤æ•æ„Ÿä¿¡æ¯ï¼‰

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹é¡¹ç›®å’ŒæœåŠ¡ï¼š
- [MkDocs](https://www.mkdocs.org/) - ä¼˜ç§€çš„é™æ€ç«™ç‚¹ç”Ÿæˆå™¨
- [Material for MkDocs](https://squidfunk.github.io/mkdocs-material/) - ç²¾ç¾çš„ä¸»é¢˜
- [DeepSeek](https://deepseek.com/) - é«˜æ€§ä»·æ¯”çš„AI APIæœåŠ¡
- æ‰€æœ‰è´¡çŒ®è€…å’Œä½¿ç”¨è€…

---

## ğŸ”— è”ç³»ä½œè€…

<div align="center">

### Telegram
<a href="https://t.me/wecowin" target="_blank">
<img src="https://pica.zhimg.com/80/v2-d5876bc0c8c756ecbba8ff410ed29c14_1440w.webp" alt="Telegram" style="border-radius: 10px;" width="300px">
</a>

### å¾®ä¿¡äº¤æµ
<img src="https://pic3.zhimg.com/80/v2-5ef3dde831c9d0a41fe35fabb0cb8784_1440w.webp" style="border-radius: 10px;" width="300px">

</div>

---

## â­ é¡¹ç›®ç»Ÿè®¡

<div align="center">

[![Star History Chart](https://api.star-history.com/svg?repos=Wcowin/mkdocs-ai-hooks&type=Date)](https://www.star-history.com/#Wcowin/mkdocs-ai-hooks&Date)

<a href="https://github.com/Wcowin/mkdocs-ai-hooks/stargazers">
<img src="https://img.shields.io/github/stars/Wcowin/mkdocs-ai-hooks?style=social" alt="Stars">
</a>
<a href="https://github.com/Wcowin/mkdocs-ai-hooks/network/members">
<img src="https://img.shields.io/github/forks/Wcowin/mkdocs-ai-hooks?style=social" alt="Forks">
</a>

</div>

---

## â˜• æ”¯æŒé¡¹ç›®

<div align="center">

<a href="https://s1.imagehub.cc/images/2025/05/11/36eb33bf18f9041667267605b6b99bd0.jpeg" target="_blank">
<img src="https://s1.imagehub.cc/images/2025/05/11/36eb33bf18f9041667267605b6b99bd0.jpeg" style="width: 300px; border-radius: 15px;">
</a>

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ Starï¼**

</div>

---

<div align="center">

ğŸ“ *è®©MkDocsæ–‡æ¡£æ›´åŠ æ™ºèƒ½åŒ–*

**[â¬† å›åˆ°é¡¶éƒ¨](#mkdocs-ai-hooks)**

</div>